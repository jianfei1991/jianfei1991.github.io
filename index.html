<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GTD</title>
<style>

nav{position:relative; margin-left:-3px;}
nav li{position:relative; display:inline-block;  text-align:center; text-decoration:none; background: #000; color:#fff; margin-left:3px;}
nav li a{background:#000; color:#fff; display:block; padding:8px 0; width:100px;}
nav p{position:absolute; left:0px; top:30px; padding-top:1px; z-index:100; display:none;}
nav p a{display:block; padding:8px 0; width:100px; text-align:center; text-decoration:none; background: #000; color:#fff;}
nav li p a:hover{background:#444;}

</style>
<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
<script>
     //Nav插件
 (function(){
     $.fn.Nav = function(options){
         var _this = this;
         var defaults = {
             number : 4,
             NavText : ['menu1','menu2','menu3','menu4'],
             NavHref : ['#1','#2','#3','#4'],
             sonNav : true,
             sonText : {
                 menu1 : ['sonmenu1'],
                 menu2 : ['sonmenu2'],
                 menu3 : ['sonmenu3'],
                 menu4 : ['sonmenu4']
             },
             sonNavHref : {
                 menu1 : ['#1'],
                 menu2 : ['#2'],
                 menu3 : ['#3'],
                 menu4 : ['#4']
             },
             NavWidth : 100,
             sonNavWidth : 100
         }
         var opts = $.extend(defaults,options);
         
         var nav = '<nav><ul></ul></nav>';
         
         _this.html(nav);
         
         
         //导入主菜单
         var menu = [],
             menuHref = [],
             navA = '';
         for(var i = 0; i < opts.number; i++){
             menu.push(opts.NavText[i]);
             menuHref.push(opts.NavHref[i]);
             var h = menuHref[i];
             if(!h){
                 h = '#';
             }
             navA += '<li class="n' + i + '"><a href="' + h + '">' + menu[i] + '</a></li>';
         }
         $('nav ul').append(navA);
         
         //设置主菜单宽度
         $('nav ul li a').css({'width':opts.NavWidth + 'px'});
         
         if(opts.sonNav){
             //导入子菜单
             var sonMenuName = [],
                 sonMenuVal = [];
             $.each(opts.sonText,function(index,value){
                 sonMenuName.push(index);
                 sonMenuVal.push(value);
             });
             
             //子菜单链接
             var sonMenuHref = [];
             $.each(opts.sonNavHref,function(index,value){
                 sonMenuHref.push(value);
             });
             
             for(var i = 0; i < menu.length; i++){
                 $.each(sonMenuName,function(index,value){
                     if(menu[i] == value){
                         var sonNav = '<p>';
                         for(var j = 0; j < sonMenuVal[index].length; j++){
                             var h = sonMenuHref[index][j];
                             if(!h){
                                 h = '#';
                             }
                             sonNav += '<a href="' + h + '">' + sonMenuVal[index][j] + '</a>'; 
                         }
                         sonNav += '</p>';
                         $('nav li.n' + i).append(sonNav);
                     }
                 });
             }
             
             //设置子菜单宽度
             $('nav ul li p a').css({'width':opts.sonNavWidth + 'px'});
             
             //子菜单鼠标事件
             $("nav ul li").find("a").mouseenter(function(e){
                 e.stopPropagation();
                 $(this).next().slideDown('fast');
             });
             $("nav ul li").mouseleave(function(){
                 $(this).find("p").slideUp('fast');
             });
 
         }
         
         
         
         
     }
 })(jQuery);
</script>
<script>
	$("div.header").Nav({
     /**主菜单选项**/
     number : 5,        //主菜单数量
     NavText : ['首页','简介','我的信息','我的博客','关注'],        //主菜单名参数
     NavHref : ['?m1','?m2','?m3','?m4'],        //主菜单链接,务必和菜单选项保持一致
     NavWidth : 100,        //主菜单宽度
     /**子菜单选项**/
     sonNav : true,        //是否设置子菜单
     sonText : {        //子菜单参数
         首页 : ['首页一','首页二','首页三'],
         简介 : ['sonmenu2','sonmenu2'],
         我的信息 : ['sonmenu5','sonmenu5','sonmenu5','sonmenu5'],
         我的博客 : ['sonmenu4'],
         关注 : ['sonmenu3','sonmenu3','sonmenu3','sonmenu3']
     },
     sonNavHref : {        //子菜单链接,务必和菜单选项保持一致
         首页 : ['?1'],
         简介 : ['?2'],
         我的信息 : ['?3'],
         我的博客 : ['?4'],
         关注 : ['?5']
     },        
     sonNavWidth : 100        //子菜单宽度
 });
</script>
</head>
<body>
<div class="header">
</div>


	
</body>
</html>